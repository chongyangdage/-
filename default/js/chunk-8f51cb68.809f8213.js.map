{"version":3,"sources":["webpack:///./src/api/people/index.js","webpack:///./src/api/historical_users/index.js","webpack:///./src/views/layout/components/Tree/people.vue?3bff","webpack:///src/views/layout/components/Tree/people.vue","webpack:///./src/views/layout/components/Tree/people.vue?c36e","webpack:///./src/views/layout/components/Tree/people.vue","webpack:///./src/views/main/audit/userName.vue?dd8e","webpack:///src/views/main/audit/userName.vue","webpack:///./src/views/main/audit/userName.vue?2a6c","webpack:///./src/views/main/audit/userName.vue","webpack:///./src/views/main/audit/userName.vue?b3aa","webpack:///./src/views/layout/components/Tree/people.vue?95b6","webpack:///./src/api/tree/index.js"],"names":["index","data","request","url","method","index1","index_dele","index_change","index_gl","index_create","historical_users","historical_users_h","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","loadNode","props","isCheckbox","allowDrop","allowDrag","on","node_click","check","handleDragStart","handleDragEnter","handleDragLeave","handleDragOver","handleDragEnd","handleDrop","handleCheckChange","staticRenderFns","label","children","isLeaf","orgid","is_dele","default","type","Boolean","Array","methods","node","level","res","treeNodes","disabled","resolve","setTimeout","length","e","empid","id","str","$emit","$message","error","nodeName","console","log","dropNode","dropType","component","formInline","model","value","callback","$$v","$set","expression","onSubmit","_v","data_tree","staticStyle","tableData","scopedSlots","_u","key","fn","scope","$event","handleDele","row","page_size","total","currentChange","prev_click","next_click","components","Tree","page","page_data","criteria","p_data","idd","is","e1","employee","_op","tree","tree_after","tree_place"],"mappings":"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","file":"js/chunk-8f51cb68.809f8213.js","sourcesContent":["import request from '@/utils/request'\r\n\r\n//查询通用人\r\nexport function index(data) {\r\n    return request({\r\n      url: 'org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext',\r\n      method: 'post',\r\n      data\r\n    })\r\n  }\r\n\r\n  //查询人\r\nexport function index1(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.employee.getEmployee.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//删除用户\r\n\r\nexport function index_dele(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.deleteNode.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n//人员变动\r\n\r\nexport function index_change(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.moveNode.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n//根据查询条件查询机构下的人员\r\nexport function index_gl(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//初始化\r\nexport function index_create(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.employee.getEmployee.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\n\r\n//历史用户查询\r\nexport function historical_users(data) {\r\n    return request({\r\n      url: 'org.gocom.components.coframe.org.employee.queryEmployee.biz.ext',\r\n      method: 'post',\r\n      data\r\n    })\r\n  }\r\n\r\n  //历史用户回复\r\nexport function historical_users_h(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.employee.updateEmpDetaiInfo.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('el-tree',{ref:\"tree\",attrs:{\"lazy\":\"\",\"check-strictly\":\"\",\"load\":_vm.loadNode,\"props\":_vm.props,\"node-key\":\"nodeId\",\"show-checkbox\":_vm.isCheckbox,\"allow-drop\":_vm.allowDrop,\"allow-drag\":_vm.allowDrag},on:{\"node-click\":_vm.node_click,\"check\":_vm.check,\"node-drag-start\":_vm.handleDragStart,\"node-drag-enter\":_vm.handleDragEnter,\"node-drag-leave\":_vm.handleDragLeave,\"node-drag-over\":_vm.handleDragOver,\"node-drag-end\":_vm.handleDragEnd,\"node-drop\":_vm.handleDrop,\"check-change\":_vm.handleCheckChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <el-tree\r\n      lazy\r\n      check-strictly\r\n      :load=\"loadNode\"\r\n      :props=\"props\"\r\n      node-key=\"nodeId\"\r\n      ref=\"tree\"\r\n      @node-click=\"node_click\"\r\n      :show-checkbox=\"isCheckbox\"\r\n      @check=\"check\"\r\n      @node-drag-start=\"handleDragStart\"\r\n      @node-drag-enter=\"handleDragEnter\"\r\n      @node-drag-leave=\"handleDragLeave\"\r\n      @node-drag-over=\"handleDragOver\"\r\n      @node-drag-end=\"handleDragEnd\"\r\n      @node-drop=\"handleDrop\"\r\n      @check-change=\"handleCheckChange\"\r\n      :allow-drop=\"allowDrop\"\r\n      :allow-drag=\"allowDrag\"\r\n    >\r\n    </el-tree>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { tree_after,tree,tree_place } from \"@/api/tree\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      props: {\r\n        label: \"nodeName\",\r\n        children: \"zones\",\r\n        isLeaf: \"isLeaf\",\r\n        orgid: \"orgid\",\r\n      },\r\n    };\r\n  },\r\n  props: {\r\n    is_dele: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    isCheckbox: {\r\n      default: false,\r\n      type: Boolean,\r\n    },\r\n    data: {\r\n      default: [],\r\n      type: Array,\r\n    },\r\n  },\r\n  methods: {\r\n    //懒加载\r\n    loadNode(node, resolve) {\r\n      if (node.level === 0) {\r\n        tree_place().then((res) => {\r\n     \r\n          res.treeNodes[0].disabled = true;\r\n          return resolve(res.treeNodes);\r\n        });\r\n      } else {\r\n \r\n        setTimeout(() => {\r\n          let data = {  nodeId: node.data.nodeId };\r\n          tree_place(data).then((res) => {\r\n            if (res.treeNodes.length >= 1) {\r\n          \r\n              resolve(res.treeNodes);\r\n            } else {\r\n              return resolve([]);\r\n            }\r\n          });\r\n        }, 200);\r\n      }\r\n    },\r\n    //节点被点击\r\n    node_click(e) {\r\n      let id = \"\";\r\n      let str = \"\";\r\n      if (e.empid) {\r\n        id = e.empid;\r\n        str = \"empid\";\r\n      } else {\r\n        id = e.orgid;\r\n        str = \"orgid\";\r\n      }\r\n      this.$emit(\"click_node\", id, str);\r\n    },\r\n    //只能选中一个部门\r\n    handleCheckChange(data1, checked) {\r\n    },\r\n    //复选框被选中触发\r\n    check(e, e1) {\r\n \r\n         let data = this.$refs.tree.getCheckedNodes();\r\n      if (data.length > 1) {\r\n        this.$message.error(\"只能选择一个部门\");\r\n         this.$refs.tree.setCheckedKeys([]);\r\n      }\r\n       if (e1.checkedKeys.length == 1) {\r\n        this.$emit(\"ok\", e.orgid, e.nodeName,e.empid);\r\n      }  \r\n    },\r\n\r\n    handleDragStart(node, ev) {\r\n      console.log(\"drag start\", node);\r\n    },\r\n    handleDragEnter(draggingNode, dropNode, ev) {\r\n      console.log(\"tree drag enter: \", dropNode.label);\r\n    },\r\n    handleDragLeave(draggingNode, dropNode, ev) {\r\n      console.log(\"tree drag leave: \", dropNode.label);\r\n    },\r\n    handleDragOver(draggingNode, dropNode, ev) {\r\n      console.log(\"tree drag over: \", dropNode.label);\r\n    },\r\n    handleDragEnd(draggingNode, dropNode, dropType, ev) {\r\n      console.log(\"tree drag end: \", dropNode && dropNode.label, dropType);\r\n    },\r\n    handleDrop(draggingNode, dropNode, dropType, ev) {\r\n      console.log(\"tree drop: \", dropNode.label, dropType);\r\n    },\r\n    allowDrop(draggingNode, dropNode, type) {\r\n \r\n    },\r\n    allowDrag(draggingNode) {\r\n    \r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.wrap {\r\n  min-height: 64vh;\r\n  max-height: 65vh;\r\n  overflow: scroll;\r\n  width: 19vw;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./people.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./people.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./people.vue?vue&type=template&id=93481b66&scoped=true&\"\nimport script from \"./people.vue?vue&type=script&lang=js&\"\nexport * from \"./people.vue?vue&type=script&lang=js&\"\nimport style0 from \"./people.vue?vue&type=style&index=0&id=93481b66&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93481b66\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"size\":\"mini\",\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{staticClass:\"form-item\",attrs:{\"label\":\"姓名:\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.formInline.empname),callback:function ($$v) {_vm.$set(_vm.formInline, \"empname\", $$v)},expression:\"formInline.empname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择状态\"},model:{value:(_vm.formInline.alarm),callback:function ($$v) {_vm.$set(_vm.formInline, \"alarm\", $$v)},expression:\"formInline.alarm\"}},[_c('el-option',{attrs:{\"label\":\"待岗\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"在岗\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"退休\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"离职\",\"value\":\"4\"}})],1)],1),_c('el-form-item',{staticClass:\"form-item\",attrs:{\"label\":\"身份证号:\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写身份证号\"},model:{value:(_vm.formInline.cardno),callback:function ($$v) {_vm.$set(_vm.formInline, \"cardno\", $$v)},expression:\"formInline.cardno\"}})],1),_c('el-form-item',{staticClass:\"form-item\",attrs:{\"label\":\"警号/辅警号:\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写警号/辅警号\"},model:{value:(_vm.formInline.empcode),callback:function ($$v) {_vm.$set(_vm.formInline, \"empcode\", $$v)},expression:\"formInline.empcode\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1)],1),_c('div',{staticClass:\"tree\"},[_c('div',[_c('Tree',{attrs:{\"data\":_vm.data_tree},on:{\"click_node\":_vm.node_click}})],1),_c('div',{staticClass:\"table\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"用户信息列表\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":true,\"border\":true,\"size\":\"mini\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"orgname\",\"label\":\"所属单位\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"empname\",\"label\":\"真实姓名\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"empcode\",\"label\":\"警号/辅警号\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"mobileno\",\"label\":\"手机号\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"empstatus\",\"label\":\"状态\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDele(scope.row)}}},[_vm._v(\"初始化\")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"pageSize\":_vm.page_size,\"total\":_vm.total},on:{\"current-change\":_vm.currentChange,\"prev-click\":_vm.prev_click,\"next-click\":_vm.next_click}})],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form\r\n      size=\"mini\"\r\n      :inline=\"true\"\r\n      :model=\"formInline\"\r\n      class=\"demo-form-inline\"\r\n    >\r\n      <el-form-item class=\"form-item\" label=\"姓名:\">\r\n        <el-input\r\n          v-model=\"formInline.empname\"\r\n          placeholder=\"请输入姓名\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"状态\">\r\n        <el-select v-model=\"formInline.alarm\" placeholder=\"请选择状态\">\r\n          <el-option label=\"待岗\" value=\"1\"></el-option>\r\n          <el-option label=\"在岗\" value=\"2\"></el-option>\r\n          <el-option label=\"退休\" value=\"3\"></el-option>\r\n          <el-option label=\"离职\" value=\"4\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item class=\"form-item\" label=\"身份证号:\">\r\n        <el-input\r\n          v-model=\"formInline.cardno\"\r\n          placeholder=\"请填写身份证号\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item class=\"form-item\" label=\"警号/辅警号:\">\r\n        <el-input\r\n          v-model=\"formInline.empcode\"\r\n          placeholder=\"请填写警号/辅警号\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"tree\">\r\n      <div>\r\n        <Tree @click_node=\"node_click\" :data=\"data_tree\"></Tree>\r\n      </div>\r\n\r\n      <div class=\"table\">\r\n        <el-card class=\"box-card\">\r\n          <div class=\"title\">用户信息列表</div>\r\n          <el-table\r\n            :stripe=\"true\"\r\n            :border=\"true\"\r\n            size=\"mini\"\r\n            :data=\"tableData\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column align=\"center\" prop=\"orgname\" label=\"所属单位\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"empname\" label=\"真实姓名\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"empcode\" label=\"警号/辅警号\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"mobileno\" label=\"手机号\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"empstatus\" label=\"状态\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  size=\"mini\"\r\n                  @click=\"handleDele(scope.row)\"\r\n                  type=\"danger\"\r\n                  >初始化</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"pagination\">\r\n            <el-pagination\r\n              @current-change=\"currentChange\"\r\n              @prev-click=\"prev_click\"\r\n              @next-click=\"next_click\"\r\n              background\r\n              layout=\"prev, pager, next\"\r\n              :pageSize=\"page_size\"\r\n              :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Tree from \"@/views/layout/components/Tree/people\";\r\nimport { index, index_create } from \"@/api/people\";\r\nimport { historical_users } from \"@/api/historical_users\";\r\nexport default {\r\n  components: {\r\n    Tree,\r\n  },\r\n  data() {\r\n    return {\r\n      page_size: 10,\r\n      total: 0,\r\n      page: 1,\r\n      formInline: {},\r\n      data_tree: [],\r\n      tableData: [],\r\n    };\r\n  },\r\n  methods: {\r\n    //页数触发\r\n    page_data() {\r\n      if (this.str == \"empid\") {\r\n        let data = {\r\n          criteria: { _expr: [{ empid: this.e, _op: \"=\" }] },\r\n          page: { length: this.page_size, isCount: true, begin: this.page },\r\n        };\r\n        index(data).then((res) => {\r\n          this.tableData = res.data;\r\n          this.total = res.page.count;\r\n        });\r\n      } else {\r\n        this.p_data(this.idd);\r\n      }\r\n    },\r\n    //节点被点击\r\n    node_click(e, str) {\r\n      this.is=true\r\n      this.str = str;\r\n      this.e = e;\r\n      if (str == \"empid\") {\r\n        let data = {\r\n          criteria: { _expr: [{ empid: e, _op: \"=\" }] },\r\n          page: { length: this.page_size, isCount: true, begin: this.page },\r\n        };\r\n        index(data).then((res) => {\r\n          this.tableData = res.data;\r\n          this.total = res.page.count;\r\n        });\r\n      } else {\r\n        this.idd = e;\r\n        this.p_data(this.idd);\r\n      }\r\n    },\r\n    //查询单位人\r\n    p_data(e) {\r\n      this.e1 = e;\r\n      let data = {\r\n        criteria: { _expr: [{ orgid: this.e1, _op: \"=\" }] },\r\n        page: { length: this.page_size, isCount: true, begin: this.page },\r\n      };\r\n      index(data).then((res) => {\r\n        this.tableData = res.data;\r\n        this.total = res.page.count;\r\n      });\r\n    },\r\n    //点击上一页\r\n    prev_click(e) {\r\n      this.page = e;\r\n      if(this.is){\r\n        this.page_data();\r\n      }else{\r\n        this.onSubmit()\r\n      }\r\n      \r\n      \r\n    },\r\n    //点击下一页\r\n    next_click(e) {\r\n     this.page = e;\r\n      if(this.is){\r\n        this.page_data();\r\n      }else{\r\n        this.onSubmit()\r\n      }\r\n    },\r\n    //点击页数事件\r\n    currentChange(e) {\r\n    this.page = e;\r\n      if(this.is){\r\n        this.page_data();\r\n      }else{\r\n        this.onSubmit()\r\n      }\r\n    },\r\n    //点击初始化\r\n    handleDele(e) {\r\n      let data = { template: e };\r\n      index_create(data).then((res) => {\r\n        if (res.employee) {\r\n          this.$message.success(\"初始化成功\");\r\n        } else {\r\n          this.$message.warning(\"初始化失败\");\r\n        }\r\n      });\r\n    },\r\n    //查询警员\r\n    onSubmit() {\r\n      this.is=false\r\n      this.formInline._op = \"=\";\r\n      let data = { criteria: { _expr: [this.formInline] },page:{length:this.page_size,isCount:false,begin:this.page} };\r\n      index(data).then((res) => {\r\n        console.log(res,'lllllll')\r\n        this.tableData = res.data;\r\n        this.total = res.page.count;\r\n\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style  scoped>\r\n.box-card {\r\n  width: 1000px;\r\n}\r\n.form-item {\r\n  margin-left: 20px;\r\n}\r\n.title {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  padding-bottom: 15px;\r\n}\r\n.el-table .warning-row {\r\n  background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n.table {\r\n  height: 65vh;\r\n  margin-left: 20px;\r\n}\r\n.tree {\r\n  height: 100%;\r\n  display: flex;\r\n}\r\n.pagination {\r\n  margin-top: 10px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userName.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userName.vue?vue&type=template&id=4a024ae4&scoped=true&\"\nimport script from \"./userName.vue?vue&type=script&lang=js&\"\nexport * from \"./userName.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userName.vue?vue&type=style&index=0&id=4a024ae4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a024ae4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userName.vue?vue&type=style&index=0&id=4a024ae4&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./people.vue?vue&type=style&index=0&id=93481b66&scoped=true&lang=css&\"","import request from '@/utils/request'\r\n\r\n  //工作数根节点\r\nexport function tree() {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.auth.partyauth.ManageableRes.getManageableOrg.biz.ext',\r\n    method: 'post',\r\n  })\r\n}\r\n //工作数以后次查询\r\n export function tree_after(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.queryTreeChildNodes.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n//所有应用\r\nexport function criteria(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.framework.SystemManager.querySystemByCriteria.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//只查单位的树\r\nexport function tree_place(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.queryOrgTree.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}"],"sourceRoot":""}