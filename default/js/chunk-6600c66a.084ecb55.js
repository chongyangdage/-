(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6600c66a","chunk-43650fec"],{"15d4":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.find_people}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.find_people.template.empname,callback:function(t){e.$set(e.find_people.template,"empname",t)},expression:"find_people.template.empname"}})],1),a("el-form-item",{attrs:{label:"职务"}},[a("el-select",{attrs:{placeholder:"请选择职务"},model:{value:e.find_people.template.degree,callback:function(t){e.$set(e.find_people.template,"degree",t)},expression:"find_people.template.degree"}},e._l(e.dic_data,(function(e,t){return a("el-option",{key:t,attrs:{label:e.dictname,value:e.dictid}})})),1)],1),a("el-form-item",{attrs:{label:"警号/辅警号"}},[a("el-input",{attrs:{placeholder:"请填写警号或辅警号"},model:{value:e.find_people.template.empcode,callback:function(t){e.$set(e.find_people.template,"empcode",t)},expression:"find_people.template.empcode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("div",{staticClass:"tree"},[a("div",[a("Tree",{attrs:{data:e.data_tree},on:{click_node:e.node_click}})],1),a("div",{staticClass:"table"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"title"},[e._v("用户信息列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:!0,border:!0,size:"mini",data:e.tableData}},[a("el-table-column",{attrs:{align:"center",prop:"orgid",label:"所属单位"}}),a("el-table-column",{attrs:{align:"center",prop:"empname",label:"真实姓名"}}),a("el-table-column",{attrs:{align:"center",prop:"empcode",label:"警号/辅警号"}}),a("el-table-column",{attrs:{align:"center",prop:"degree",label:"职务"}}),a("el-table-column",{attrs:{align:"center",prop:"oemail",label:"电子邮箱"}}),a("el-table-column",{attrs:{align:"center",prop:"mobileno",label:"手机号"}})],1),e.show?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",pageSize:e.page_size,total:e.total},on:{"current-change":e.currentChange,"prev-click":e.prev_click,"next-click":e.next_click}})],1):e._e()],1)],1)])],1)},n=[],r=a("7c50"),l=a("2fda"),c=a("8e28"),i={components:{Tree:r["default"]},data:function(){return{show:!0,dic_data:[],find_people:{template:{empid:"",empname:"",cardtype:"",cardno:"",gender:"",mobileno:"",otel:"",empcode:"",oemail:"",faxno:"",party:"",degree:"",workexp:"",orgid:"",ozipcode:""}},page_size:2,total:0,page:1,formInline:{post:"",user:"",alarm:""},data_tree:[],tableData:[]}},created:function(){var e=this;Object(c["a"])({dicttypeid:"COF_DUTIES"}).then((function(t){e.dic_data=t.data})),this.all_data()},methods:{all_data:function(){var e=this;Object(l["a"])({page:{length:this.page_size,isCount:!0,begin:this.page}}).then((function(t){e.tableData=[],e.tableData=t.data,e.total=t.page.count}))},node_click:function(e,t){var a=this;if(this.show=!1,"empid"==t){var o={criteria:{_expr:[{empid:e,_op:"="}]}};Object(l["a"])(o).then((function(e){a.tableData=e.data,a.tableData=e.data,a.total=e.page.count}))}else{var n={criteria:{_expr:[{orgid:e,_op:"="}]}};Object(l["a"])(n).then((function(e){a.tableData=e.data}))}},prev_click:function(e){this.page=e,this.all_data()},next_click:function(e){this.page=e,this.all_data()},currentChange:function(e){this.page=e,this.all_data()},onSubmit:function(){var e=this,t=this.find_people;t.length=1,Object(l["b"])(t).then((function(t){e.tableData=[],e.tableData.push(t.employee)}))}}},d=i,s=(a("953e"),a("2877")),p=Object(s["a"])(d,o,n,!1,null,"899a1604",null);t["default"]=p.exports},"2fda":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return d}));var o=a("b775");function n(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext",method:"post",data:e})}function r(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.employee.getEmployee.biz.ext",method:"post",data:e})}function l(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.organization.deleteNode.biz.ext",method:"post",data:e})}function c(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.organization.moveNode.biz.ext",method:"post",data:e})}function i(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext",method:"post",data:e})}function d(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.employee.getEmployee.biz.ext",method:"post",data:e})}},"7c50":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("el-tree",{ref:"tree",attrs:{lazy:"",load:e.loadNode,props:e.props,"node-key":"nodeId","show-checkbox":e.isCheckbox,"allow-drop":e.allowDrop,"allow-drag":e.allowDrag},on:{"node-click":e.node_click,check:e.check,"node-drag-start":e.handleDragStart,"node-drag-enter":e.handleDragEnter,"node-drag-leave":e.handleDragLeave,"node-drag-over":e.handleDragOver,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop,"check-change":e.handleCheckChange}})],1)},n=[],r=(a("ac6a"),a("dd12")),l={data:function(){return{props:{label:"nodeName",children:"zones",isLeaf:"isLeaf",orgid:"orgid"}}},props:{is_dele:{default:!0,type:Boolean},isCheckbox:{default:!1,type:Boolean},data:{default:[],type:Array}},methods:{node_click:function(e){var t="",a="";e.empid?(t=e.empid,a="empid"):(t=e.orgid,a="orgid"),this.$emit("click_node",t,a)},loadNode:function(e,t){0===e.level?Object(r["c"])().then((function(e){return e.treeNodes[0].disabled=!0,t(e.treeNodes)})):setTimeout((function(){var a={nodeType:"OrgOrganization",nodeId:e.data.nodeId};Object(r["c"])(a).then((function(e){if(e.treeNodes.forEach((function(e){0==e.isLeaf&&(e.disabled=!0)})),!(e.treeNodes.length>=1))return t([]);t(e.treeNodes)}))}),200)},handleCheckChange:function(e,t){},check:function(e,t){var a=this.$refs.tree.getCheckedNodes();a.length>1&&(this.$message.error("只能选择一个部门"),this.$refs.tree.setCheckedKeys([])),1==t.checkedKeys.length&&this.$emit("ok",e.orgid,e.nodeName,e.empid)},handleDragStart:function(e,t){console.log("drag start",e)},handleDragEnter:function(e,t,a){console.log("tree drag enter: ",t.label)},handleDragLeave:function(e,t,a){console.log("tree drag leave: ",t.label)},handleDragOver:function(e,t,a){console.log("tree drag over: ",t.label)},handleDragEnd:function(e,t,a,o){console.log("tree drag end: ",t&&t.label,a)},handleDrop:function(e,t,a,o){console.log("tree drop: ",t.label,a)},allowDrop:function(e,t,a){return"二级 3-1"!==t.data.label||"inner"!==a},allowDrag:function(e){return-1===e.data.label.indexOf("三级 3-2-2")}}},c=l,i=(a("d321"),a("2877")),d=Object(i["a"])(c,o,n,!1,null,"3bef7a1a",null);t["default"]=d.exports},"8e28":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a("b775");function n(e){return Object(o["a"])({url:"org.gocom.components.coframe.dict.DictManager.queryDictByDictType.biz.ext",method:"post",data:e})}},"953e":function(e,t,a){"use strict";a("cc62")},bdea:function(e,t,a){},cc62:function(e,t,a){},d321:function(e,t,a){"use strict";a("bdea")},dd12:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return c}));var o=a("b775");function n(){return Object(o["a"])({url:"org.gocom.components.coframe.auth.partyauth.ManageableRes.getManageableOrg.biz.ext",method:"post"})}function r(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.organization.queryTreeChildNodes.biz.ext",method:"post",data:e})}function l(e){return Object(o["a"])({url:"org.gocom.components.coframe.framework.SystemManager.querySystemByCriteria.biz.ext",method:"post",data:e})}function c(e){return Object(o["a"])({url:"org.gocom.components.coframe.org.organization.queryOrgTree.biz.ext",method:"post",data:e})}}}]);
//# sourceMappingURL=chunk-6600c66a.084ecb55.js.map