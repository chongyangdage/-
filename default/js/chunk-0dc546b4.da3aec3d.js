(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dc546b4","chunk-43650fec"],{"2fda":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return c}));var n=a("b775");function o(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext",method:"post",data:e})}function i(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.employee.getEmployee.biz.ext",method:"post",data:e})}function r(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.organization.deleteNode.biz.ext",method:"post",data:e})}function l(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.organization.moveNode.biz.ext",method:"post",data:e})}function d(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext",method:"post",data:e})}function c(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.employee.getEmployee.biz.ext",method:"post",data:e})}},"2fef":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tree"},[a("div",[a("Tree",{attrs:{data:e.data_tree},on:{click_node:e.node_click}})],1),a("div",{staticClass:"table"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"title_wrap"},[a("div",{staticClass:"title"},[e._v("用户信息列表")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:!0,border:!0,size:"mini",data:e.tableData}},[a("el-table-column",{attrs:{width:"80",align:"center",prop:"sortno",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{margin:"0px",padding:"0px","text-align":"center !important"},attrs:{placeholder:"请输入内容",disabled:e.isDisabled!=t.row.empname},on:{input:e.input,blur:e.blur},model:{value:t.row.sortno,callback:function(a){e.$set(t.row,"sortno",a)},expression:"scope.row.sortno"}})]}}])}),a("el-table-column",{attrs:{align:"center",prop:"empname",label:"真实姓名"}}),a("el-table-column",{attrs:{align:"center",prop:"name",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleSolt(t.row.sortno,t.row.empid,t.row.empname)}}},[e._v("编辑排序")])]}}])})],1),a("div",{staticClass:"pagination title_wrap"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",pageSize:e.page_size,total:e.total},on:{"current-change":e.currentChange,"prev-click":e.prev_click,"next-click":e.next_click}}),a("div",{staticClass:"title1",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:e.sort}},[e._v("保存")])],1)],1)],1)],1)])])},o=[],i=(a("7f7f"),a("ac6a"),a("7c50")),r=a("2fda"),l=a("b775");function d(e){return Object(l["a"])({url:"org.gocom.components.coframe.org.employee.updateEmpBatch.biz.ext",method:"post",data:e})}var c={components:{Tree:i["default"]},data:function(){return{sory_name:"",isDisabled:-1,sort_num:"",page_size:10,page:1,total:0,formInline:{post:"",user:"",alarm:""},data_tree:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1"},{id:5,label:"三级 1-2"},{id:6,label:"三级 1-3"},{id:7,label:"三级 1-4"},{id:8,label:"三级 1-5"},{id:9,label:"三级 1-6"},{id:16,label:"三级 1-3"},{id:17,label:"三级 1-4"},{id:18,label:"三级 1-5"},{id:19,label:"三级 1-6"},{id:26,label:"三级 1-3"},{id:27,label:"三级 1-4"},{id:28,label:"三级 1-5"},{id:29,label:"三级 1-6"},{id:688,label:"三级 1-3"},{id:37,label:"三级 1-4"},{id:38,label:"三级 1-5"},{id:39,label:"三级 1-6"},{id:46,label:"三级 1-3"},{id:47,label:"三级 1-4"},{id:48,label:"三级 1-5"},{id:49,label:"三级 1-6"},{id:56,label:"三级 1-3"},{id:57,label:"三级 1-4"},{id:58,label:"三级 1-5"},{id:59,label:"三级 1-6"},{id:677,label:"三级 1-3"},{id:657,label:"三级 1-4"},{id:68,label:"三级 1-5"},{id:69,label:"三级 1-6"},{id:7446,label:"三级 1-3"},{id:77,label:"三级 1-4"},{id:78,label:"三级 1-5"},{id:98,label:"三级 1-6"},{id:76,label:"三级 1-3"},{id:87,label:"三级 1-4"},{id:88,label:"三级 1-5"},{id:89,label:"三级 1-6"}]}],sort_now:"",tableData:[]}},methods:{node_click:function(e,t){var a=this;if(this.str=t,this.e=e,"empid"==t){var n={criteria:{_expr:[{empid:e,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(r["a"])(n).then((function(e){a.tableData=e.data,a.total=e.page.count}))}else this.idd=e,this.p_data(this.idd)},p_data:function(e){var t=this;this.e1=e;var a={criteria:{_expr:[{orgid:this.e1,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(r["a"])(a).then((function(e){t.tableData=e.data,t.total=e.page.count}))},blur:function(){var e=this,t=this.sort_now;this.tableData.forEach((function(a){t==a.Company&&a.name!=e.isDisabled&&(a.Company=e.sort_num)})),this.isDisabled=-1},input:function(e){this.sort_now=e},handleSolt:function(e,t,a){this.isDisabled=a,this.sort_num=e,this.sory_name=t},prev_click:function(e){var t=this;if(this.page=e,"empid"==this.str){var a={criteria:{_expr:[{empid:this.e,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(r["a"])(a).then((function(e){t.tableData=e.data,t.total=e.page.count}))}else this.p_data(this.idd)},next_click:function(e){var t=this;if(this.page=e,"empid"==this.str){var a={criteria:{_expr:[{empid:this.e,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(r["a"])(a).then((function(e){t.tableData=e.data,t.total=e.page.count}))}else this.p_data(this.idd)},currentChange:function(e){var t=this;if(this.page=e,"empid"==this.str){var a={criteria:{_expr:[{empid:this.e,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(r["a"])(a).then((function(e){t.tableData=e.data,t.total=e.page.count}))}else this.p_data(this.idd)},onSubmit:function(){},sort:function(){var e=this;this.blur();var t={employee:{sortno:this.sort_now,empid:this.sory_name}};d(t).then((function(t){1==t.returnCode?e.$message.success("排序成功"):e.$message.warning("排序失败")}))}}},s=c,u=(a("7b22"),a("2877")),p=Object(u["a"])(s,n,o,!1,null,"58bdcf23",null);t["default"]=p.exports},"7b22":function(e,t,a){"use strict";a("ea4f")},"7c50":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("el-tree",{ref:"tree",attrs:{lazy:"",load:e.loadNode,props:e.props,"node-key":"nodeId","show-checkbox":e.isCheckbox,"allow-drop":e.allowDrop,"allow-drag":e.allowDrag},on:{"node-click":e.node_click,check:e.check,"node-drag-start":e.handleDragStart,"node-drag-enter":e.handleDragEnter,"node-drag-leave":e.handleDragLeave,"node-drag-over":e.handleDragOver,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop,"check-change":e.handleCheckChange}})],1)},o=[],i=(a("ac6a"),a("dd12")),r={data:function(){return{props:{label:"nodeName",children:"zones",isLeaf:"isLeaf",orgid:"orgid"}}},props:{is_dele:{default:!0,type:Boolean},isCheckbox:{default:!1,type:Boolean},data:{default:[],type:Array}},methods:{node_click:function(e){var t="",a="";e.empid?(t=e.empid,a="empid"):(t=e.orgid,a="orgid"),this.$emit("click_node",t,a)},loadNode:function(e,t){0===e.level?Object(i["c"])().then((function(e){return e.treeNodes[0].disabled=!0,t(e.treeNodes)})):setTimeout((function(){var a={nodeType:"OrgOrganization",nodeId:e.data.nodeId};Object(i["c"])(a).then((function(e){if(e.treeNodes.forEach((function(e){0==e.isLeaf&&(e.disabled=!0)})),!(e.treeNodes.length>=1))return t([]);t(e.treeNodes)}))}),200)},handleCheckChange:function(e,t){},check:function(e,t){var a=this.$refs.tree.getCheckedNodes();a.length>1&&(this.$message.error("只能选择一个部门"),this.$refs.tree.setCheckedKeys([])),1==t.checkedKeys.length&&this.$emit("ok",e.orgid,e.nodeName,e.empid)},handleDragStart:function(e,t){console.log("drag start",e)},handleDragEnter:function(e,t,a){console.log("tree drag enter: ",t.label)},handleDragLeave:function(e,t,a){console.log("tree drag leave: ",t.label)},handleDragOver:function(e,t,a){console.log("tree drag over: ",t.label)},handleDragEnd:function(e,t,a,n){console.log("tree drag end: ",t&&t.label,a)},handleDrop:function(e,t,a,n){console.log("tree drop: ",t.label,a)},allowDrop:function(e,t,a){return"二级 3-1"!==t.data.label||"inner"!==a},allowDrag:function(e){return-1===e.data.label.indexOf("三级 3-2-2")}}},l=r,d=(a("d321"),a("2877")),c=Object(d["a"])(l,n,o,!1,null,"3bef7a1a",null);t["default"]=c.exports},bdea:function(e,t,a){},d321:function(e,t,a){"use strict";a("bdea")},dd12:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return l}));var n=a("b775");function o(){return Object(n["a"])({url:"org.gocom.components.coframe.auth.partyauth.ManageableRes.getManageableOrg.biz.ext",method:"post"})}function i(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.organization.queryTreeChildNodes.biz.ext",method:"post",data:e})}function r(e){return Object(n["a"])({url:"org.gocom.components.coframe.framework.SystemManager.querySystemByCriteria.biz.ext",method:"post",data:e})}function l(e){return Object(n["a"])({url:"org.gocom.components.coframe.org.organization.queryOrgTree.biz.ext",method:"post",data:e})}},ea4f:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0dc546b4.da3aec3d.js.map