(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f51cb68","chunk-56837562"],{"140c":function(e,t,n){},"2fda":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s}));var a=n("b775");function o(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext",method:"post",data:e})}function r(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.employee.getEmployee.biz.ext",method:"post",data:e})}function i(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.organization.deleteNode.biz.ext",method:"post",data:e})}function l(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.organization.moveNode.biz.ext",method:"post",data:e})}function c(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext",method:"post",data:e})}function s(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.employee.getEmployee.biz.ext",method:"post",data:e})}},"51f2":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("b775");function o(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.employee.queryEmployee.biz.ext",method:"post",data:e})}function r(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.employee.updateEmpDetaiInfo.biz.ext",method:"post",data:e})}},"6dcf":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("el-tree",{ref:"tree",attrs:{lazy:"","check-strictly":"",load:e.loadNode,props:e.props,"node-key":"nodeId","show-checkbox":e.isCheckbox,"allow-drop":e.allowDrop,"allow-drag":e.allowDrag},on:{"node-click":e.node_click,check:e.check,"node-drag-start":e.handleDragStart,"node-drag-enter":e.handleDragEnter,"node-drag-leave":e.handleDragLeave,"node-drag-over":e.handleDragOver,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop,"check-change":e.handleCheckChange}})],1)},o=[],r=n("dd12"),i={data:function(){return{props:{label:"nodeName",children:"zones",isLeaf:"isLeaf",orgid:"orgid"}}},props:{is_dele:{default:!0,type:Boolean},isCheckbox:{default:!1,type:Boolean},data:{default:[],type:Array}},methods:{loadNode:function(e,t){0===e.level?Object(r["d"])().then((function(e){return e.treeNodes[0].disabled=!0,t(e.treeNodes)})):setTimeout((function(){var n={nodeId:e.data.nodeId};Object(r["d"])(n).then((function(e){if(!(e.treeNodes.length>=1))return t([]);t(e.treeNodes)}))}),200)},node_click:function(e){var t="",n="";e.empid?(t=e.empid,n="empid"):(t=e.orgid,n="orgid"),this.$emit("click_node",t,n)},handleCheckChange:function(e,t){},check:function(e,t){var n=this.$refs.tree.getCheckedNodes();n.length>1&&(this.$message.error("只能选择一个部门"),this.$refs.tree.setCheckedKeys([])),1==t.checkedKeys.length&&this.$emit("ok",e.orgid,e.nodeName,e.empid)},handleDragStart:function(e,t){console.log("drag start",e)},handleDragEnter:function(e,t,n){console.log("tree drag enter: ",t.label)},handleDragLeave:function(e,t,n){console.log("tree drag leave: ",t.label)},handleDragOver:function(e,t,n){console.log("tree drag over: ",t.label)},handleDragEnd:function(e,t,n,a){console.log("tree drag end: ",t&&t.label,n)},handleDrop:function(e,t,n,a){console.log("tree drop: ",t.label,n)},allowDrop:function(e,t,n){},allowDrag:function(e){}}},l=i,c=(n("b175"),n("2877")),s=Object(c["a"])(l,a,o,!1,null,"93481b66",null);t["default"]=s.exports},7384:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"demo-form-inline",attrs:{size:"mini",inline:!0,model:e.formInline}},[n("el-form-item",{staticClass:"form-item",attrs:{label:"姓名:"}},[n("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formInline.empname,callback:function(t){e.$set(e.formInline,"empname",t)},expression:"formInline.empname"}})],1),n("el-form-item",{attrs:{label:"状态"}},[n("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.formInline.alarm,callback:function(t){e.$set(e.formInline,"alarm",t)},expression:"formInline.alarm"}},[n("el-option",{attrs:{label:"待岗",value:"1"}}),n("el-option",{attrs:{label:"在岗",value:"2"}}),n("el-option",{attrs:{label:"退休",value:"3"}}),n("el-option",{attrs:{label:"离职",value:"4"}})],1)],1),n("el-form-item",{staticClass:"form-item",attrs:{label:"身份证号:"}},[n("el-input",{attrs:{placeholder:"请填写身份证号"},model:{value:e.formInline.cardno,callback:function(t){e.$set(e.formInline,"cardno",t)},expression:"formInline.cardno"}})],1),n("el-form-item",{staticClass:"form-item",attrs:{label:"警号/辅警号:"}},[n("el-input",{attrs:{placeholder:"请填写警号/辅警号"},model:{value:e.formInline.empcode,callback:function(t){e.$set(e.formInline,"empcode",t)},expression:"formInline.empcode"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),n("div",{staticClass:"tree"},[n("div",[n("Tree",{attrs:{data:e.data_tree},on:{click_node:e.node_click}})],1),n("div",{staticClass:"table"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"title"},[e._v("用户信息列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:!0,border:!0,size:"mini",data:e.tableData}},[n("el-table-column",{attrs:{align:"center",prop:"orgname",label:"所属单位"}}),n("el-table-column",{attrs:{align:"center",prop:"empname",label:"真实姓名"}}),n("el-table-column",{attrs:{align:"center",prop:"empcode",label:"警号/辅警号"}}),n("el-table-column",{attrs:{align:"center",prop:"mobileno",label:"手机号"}}),n("el-table-column",{attrs:{align:"center",prop:"empstatus",label:"状态"}}),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDele(t.row)}}},[e._v("初始化")])]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",pageSize:e.page_size,total:e.total},on:{"current-change":e.currentChange,"prev-click":e.prev_click,"next-click":e.next_click}})],1)],1)],1)])],1)},o=[],r=n("6dcf"),i=n("2fda"),l=(n("51f2"),{components:{Tree:r["default"]},data:function(){return{page_size:10,total:0,page:1,formInline:{},data_tree:[],tableData:[]}},methods:{page_data:function(){var e=this;if("empid"==this.str){var t={criteria:{_expr:[{empid:this.e,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(i["a"])(t).then((function(t){e.tableData=t.data,e.total=t.page.count}))}else this.p_data(this.idd)},node_click:function(e,t){var n=this;if(this.is=!0,this.str=t,this.e=e,"empid"==t){var a={criteria:{_expr:[{empid:e,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(i["a"])(a).then((function(e){n.tableData=e.data,n.total=e.page.count}))}else this.idd=e,this.p_data(this.idd)},p_data:function(e){var t=this;this.e1=e;var n={criteria:{_expr:[{orgid:this.e1,_op:"="}]},page:{length:this.page_size,isCount:!0,begin:this.page}};Object(i["a"])(n).then((function(e){t.tableData=e.data,t.total=e.page.count}))},prev_click:function(e){this.page=e,this.is?this.page_data():this.onSubmit()},next_click:function(e){this.page=e,this.is?this.page_data():this.onSubmit()},currentChange:function(e){this.page=e,this.is?this.page_data():this.onSubmit()},handleDele:function(e){var t=this,n={template:e};Object(i["d"])(n).then((function(e){e.employee?t.$message.success("初始化成功"):t.$message.warning("初始化失败")}))},onSubmit:function(){var e=this;this.is=!1,this.formInline._op="=";var t={criteria:{_expr:[this.formInline]},page:{length:this.page_size,isCount:!1,begin:this.page}};Object(i["a"])(t).then((function(t){console.log(t,"lllllll"),e.tableData=t.data,e.total=t.page.count}))}}}),c=l,s=(n("ac36"),n("2877")),d=Object(s["a"])(c,a,o,!1,null,"4a024ae4",null);t["default"]=d.exports},"91d5":function(e,t,n){},ac36:function(e,t,n){"use strict";n("140c")},b175:function(e,t,n){"use strict";n("91d5")},dd12:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l}));var a=n("b775");function o(){return Object(a["a"])({url:"org.gocom.components.coframe.auth.partyauth.ManageableRes.getManageableOrg.biz.ext",method:"post"})}function r(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.organization.queryTreeChildNodes.biz.ext",method:"post",data:e})}function i(e){return Object(a["a"])({url:"org.gocom.components.coframe.framework.SystemManager.querySystemByCriteria.biz.ext",method:"post",data:e})}function l(e){return Object(a["a"])({url:"org.gocom.components.coframe.org.organization.queryOrgTree.biz.ext",method:"post",data:e})}}}]);
//# sourceMappingURL=chunk-8f51cb68.809f8213.js.map