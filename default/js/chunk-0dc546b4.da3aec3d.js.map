{"version":3,"sources":["webpack:///./src/api/people/index.js","webpack:///./src/views/main/crm/user_ranking.vue?d9e9","webpack:///./src/api/sort/index.js","webpack:///src/views/main/crm/user_ranking.vue","webpack:///./src/views/main/crm/user_ranking.vue?6728","webpack:///./src/views/main/crm/user_ranking.vue","webpack:///./src/views/main/crm/user_ranking.vue?2bd2","webpack:///./src/views/layout/components/Tree/index_yellow.vue?cf61","webpack:///src/views/layout/components/Tree/index_yellow.vue","webpack:///./src/views/layout/components/Tree/index_yellow.vue?5054","webpack:///./src/views/layout/components/Tree/index_yellow.vue","webpack:///./src/views/layout/components/Tree/index_yellow.vue?aab4","webpack:///./src/api/tree/index.js"],"names":["index","data","request","url","method","index1","index_dele","index_change","index_gl","index_create","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","data_tree","on","node_click","_v","staticStyle","tableData","scopedSlots","_u","key","fn","scope","isDisabled","row","empname","input","blur","model","value","callback","$$v","$set","expression","$event","handleSolt","sortno","empid","page_size","total","currentChange","prev_click","next_click","sort","staticRenderFns","sort_index","components","Tree","sory_name","sort_num","page","formInline","post","user","alarm","sort_now","methods","str","e","idd","p_data","e1","forEach","item","Company","name","id","onSubmit","then","component","ref","loadNode","props","isCheckbox","allowDrop","allowDrag","check","handleDragStart","handleDragEnter","handleDragLeave","handleDragOver","handleDragEnd","handleDrop","handleCheckChange","label","children","isLeaf","orgid","is_dele","default","type","Boolean","Array","$emit","node","level","res","treeNodes","disabled","resolve","setTimeout","length","$message","error","$refs","tree","setCheckedKeys","checkedKeys","nodeName","console","log","dropNode","dropType","draggingNode","indexOf","tree_after","criteria","tree_place"],"mappings":"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","file":"js/chunk-0dc546b4.da3aec3d.js","sourcesContent":["import request from '@/utils/request'\r\n\r\n//查询通用人\r\nexport function index(data) {\r\n    return request({\r\n      url: 'org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext',\r\n      method: 'post',\r\n      data\r\n    })\r\n  }\r\n\r\n  //查询人\r\nexport function index1(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.employee.getEmployee.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//删除用户\r\n\r\nexport function index_dele(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.deleteNode.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n//人员变动\r\n\r\nexport function index_change(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.moveNode.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n//根据查询条件查询机构下的人员\r\nexport function index_gl(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.employee.queryEmployeeByCriteria.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//初始化\r\nexport function index_create(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.employee.getEmployee.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"tree\"},[_c('div',[_c('Tree',{attrs:{\"data\":_vm.data_tree},on:{\"click_node\":_vm.node_click}})],1),_c('div',{staticClass:\"table\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"title_wrap\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"用户信息列表\")])]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":true,\"border\":true,\"size\":\"mini\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"width\":\"80\",\"align\":\"center\",\"prop\":\"sortno\",\"label\":\"序号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{staticStyle:{\"margin\":\"0px\",\"padding\":\"0px\",\"text-align\":\"center !important\"},attrs:{\"placeholder\":\"请输入内容\",\"disabled\":_vm.isDisabled == scope.row.empname ? false : true},on:{\"input\":_vm.input,\"blur\":_vm.blur},model:{value:(scope.row.sortno),callback:function ($$v) {_vm.$set(scope.row, \"sortno\", $$v)},expression:\"scope.row.sortno\"}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"empname\",\"label\":\"真实姓名\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"name\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleSolt(scope.row.sortno, scope.row.empid,scope.row.empname)}}},[_vm._v(\"编辑排序\")])]}}])})],1),_c('div',{staticClass:\"pagination title_wrap\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"pageSize\":_vm.page_size,\"total\":_vm.total},on:{\"current-change\":_vm.currentChange,\"prev-click\":_vm.prev_click,\"next-click\":_vm.next_click}}),_c('div',{staticClass:\"title1\",staticStyle:{\"margin-left\":\"20px\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.sort}},[_vm._v(\"保存\")])],1)],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\n\n//用户排序\nexport function sort_index(data) {\n    return request({\n      url: 'org.gocom.components.coframe.org.employee.updateEmpBatch.biz.ext',\n      method: 'post',\n      data\n    })\n  }\n","<template>\r\n  <div>\r\n    <div class=\"tree\">\r\n      <div>\r\n        <Tree  @click_node=\"node_click\" :data=\"data_tree\"></Tree>\r\n      </div>\r\n\r\n      <div class=\"table\">\r\n        <el-card class=\"box-card\">\r\n          <div class=\"title_wrap\">\r\n            <div class=\"title\">用户信息列表</div>\r\n          </div>\r\n\r\n          <el-table\r\n            :stripe=\"true\"\r\n            :border=\"true\"\r\n            size=\"mini\"\r\n            :data=\"tableData\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column\r\n              width=\"80\"\r\n              align=\"center\"\r\n              prop=\"sortno\"\r\n              label=\"序号\"\r\n            >\r\n              <template slot-scope=\"scope\">\r\n                <el-input\r\n                  @input=\"input\"\r\n                  @blur=\"blur\"\r\n                  style=\"\r\n                    margin: 0px;\r\n                    padding: 0px;\r\n                    text-align: center !important;\r\n                  \"\r\n                  placeholder=\"请输入内容\"\r\n                  v-model=\"scope.row.sortno\"\r\n                  :disabled=\"isDisabled == scope.row.empname ? false : true\"\r\n                >\r\n                </el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"empname\" label=\"真实姓名\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"name\" label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  size=\"mini\"\r\n                  @click=\"handleSolt(scope.row.sortno, scope.row.empid,scope.row.empname)\"\r\n                  type=\"success\"\r\n                  >编辑排序</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"pagination title_wrap\">\r\n            <el-pagination\r\n              @current-change=\"currentChange\"\r\n              @prev-click=\"prev_click\"\r\n              @next-click=\"next_click\"\r\n              background\r\n              layout=\"prev, pager, next\"\r\n              :pageSize=\"page_size\"\r\n              :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n            <div class=\"title1\" style=\"margin-left: 20px\">\r\n              <el-button size=\"mini\" @click=\"sort\" type=\"primary\" round>保存</el-button>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Tree from \"@/views/layout/components/Tree/index_yellow\";\r\nimport { index, index1, index_dele,index_change } from \"@/api/people\";\r\nimport { sort_index } from \"@/api/sort\";\r\nexport default {\r\n  components: {\r\n    Tree,\r\n  },\r\n  data() {\r\n    return {\r\n      sory_name: \"\",\r\n      isDisabled: -1,\r\n      sort_num: \"\",\r\n      page_size: 10,\r\n      page:1,\r\n      total: 0,\r\n      formInline: {\r\n        post: \"\",\r\n        user: \"\",\r\n        alarm: \"\",\r\n      },\r\n      data_tree: [\r\n        {\r\n          id: 1,\r\n          label: \"一级 1\",\r\n          children: [\r\n            {\r\n              id: 4,\r\n              label: \"二级 1-1\",\r\n            },\r\n            {\r\n              id: 5,\r\n              label: \"三级 1-2\",\r\n            },\r\n            {\r\n              id: 6,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 7,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 8,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 9,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 16,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 17,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 18,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 19,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 26,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 27,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 28,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 29,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 688,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 37,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 38,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 39,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 46,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 47,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 48,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 49,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 56,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 57,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 58,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 59,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 677,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 657,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 68,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 69,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 7446,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 77,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 78,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 98,\r\n              label: \"三级 1-6\",\r\n            },\r\n            {\r\n              id: 76,\r\n              label: \"三级 1-3\",\r\n            },\r\n            {\r\n              id: 87,\r\n              label: \"三级 1-4\",\r\n            },\r\n            {\r\n              id: 88,\r\n              label: \"三级 1-5\",\r\n            },\r\n            {\r\n              id: 89,\r\n              label: \"三级 1-6\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      sort_now: \"\",\r\n      tableData: [\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    //节点被点击\r\n    node_click(e, str) {\r\n      this.str=str\r\n      this.e=e\r\n      if (str == \"empid\") {\r\n        \r\n        let data = { criteria: { _expr: [{ empid: e, _op: \"=\" }] },page:{length:this.page_size,isCount:true,begin:this.page} };\r\n        index(data).then((res) => {\r\n          this.tableData = res.data;\r\n          this.total=res.page.count\r\n      \r\n        });\r\n      } else {\r\n        this.idd=e\r\n        this.p_data(this.idd)\r\n      }\r\n    },\r\n    //查询单位人\r\n    p_data(e){\r\n      this.e1=e\r\n       let data = { criteria: { _expr: [{ orgid: this.e1, _op: \"=\" }] },page:{length:this.page_size,isCount:true,begin:this.page} };\r\n        index(data).then((res) => {\r\n          this.tableData = res.data;\r\n           this.total=res.page.count\r\n       \r\n        });\r\n    },\r\n    //输入框失去焦点触发\r\n    blur() {\r\n      let e = this.sort_now;\r\n    \r\n      this.tableData.forEach((item) => {\r\n        if (e == item.Company && item.name != this.isDisabled) {\r\n          item.Company = this.sort_num;\r\n     \r\n        }\r\n      });\r\n      this.isDisabled = -1;\r\n    },\r\n    //输入框文字改变触发\r\n    input(e) {\r\n      this.sort_now = e;\r\n    },\r\n    //点击排序\r\n    handleSolt(id, name,e) {\r\n      this.isDisabled = e;\r\n      this.sort_num = id;\r\n      this.sory_name = name;\r\n    },\r\n    //点击上一页\r\n    prev_click(e) {\r\n\r\n      this.page=e\r\n      if (this.str == \"empid\") {\r\n        \r\n        let data = { criteria: { _expr: [{ empid: this.e, _op: \"=\" }] },page:{length:this.page_size,isCount:true,begin:this.page} };\r\n        index(data).then((res) => {\r\n          this.tableData = res.data;\r\n          this.total=res.page.count\r\n    \r\n        });\r\n      } else {\r\n        \r\n        this.p_data(this.idd)\r\n      }\r\n    },\r\n    //点击下一页\r\n    next_click(e) {\r\n\r\n      this.page=e\r\n      if (this.str == \"empid\") {\r\n        \r\n        let data = { criteria: { _expr: [{ empid: this.e, _op: \"=\" }] },page:{length:this.page_size,isCount:true,begin:this.page} };\r\n        index(data).then((res) => {\r\n          this.tableData = res.data;\r\n          this.total=res.page.count\r\n   \r\n        });\r\n      } else {\r\n      \r\n        this.p_data(this.idd)\r\n      }\r\n    },\r\n    //点击页数事件\r\n    currentChange(e) {\r\n\r\n      this.page=e\r\n      if (this.str == \"empid\") {\r\n        \r\n        let data = { criteria: { _expr: [{ empid: this.e, _op: \"=\" }] },page:{length:this.page_size,isCount:true,begin:this.page} };\r\n        index(data).then((res) => {\r\n          this.tableData = res.data;\r\n          this.total=res.page.count\r\n  \r\n        });\r\n      } else {\r\n      \r\n        this.p_data(this.idd)\r\n      }\r\n    },\r\n    //查询警员\r\n    onSubmit() {\r\n     \r\n    },\r\n    //点击保存\r\n    sort(){\r\n      this.blur()\r\n      let data={employee:{sortno:this.sort_now,empid:this.sory_name}}\r\n      sort_index(data).then(res=>{\r\n\r\n        if(res.returnCode==1){\r\n          this.$message.success(\"排序成功\");\r\n        } else {\r\n          this.$message.warning(\"排序失败\");\r\n        }\r\n      })\r\n      \r\n    }\r\n  },\r\n};\r\n</script>\r\n<style  scoped>\r\n.title_wrap {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.title {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  padding-bottom: 15px;\r\n}\r\n.el-table .warning-row {\r\n  background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n.table {\r\n  height: 65vh;\r\n  margin-left: 20px;\r\n}\r\n.box-card {\r\n  width: 600px;\r\n}\r\n.tree {\r\n  height: 100%;\r\n  display: flex;\r\n}\r\n.pagination {\r\n  margin-top: 10px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user_ranking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user_ranking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user_ranking.vue?vue&type=template&id=58bdcf23&scoped=true&\"\nimport script from \"./user_ranking.vue?vue&type=script&lang=js&\"\nexport * from \"./user_ranking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user_ranking.vue?vue&type=style&index=0&id=58bdcf23&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58bdcf23\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user_ranking.vue?vue&type=style&index=0&id=58bdcf23&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('el-tree',{ref:\"tree\",attrs:{\"lazy\":\"\",\"load\":_vm.loadNode,\"props\":_vm.props,\"node-key\":\"nodeId\",\"show-checkbox\":_vm.isCheckbox,\"allow-drop\":_vm.allowDrop,\"allow-drag\":_vm.allowDrag},on:{\"node-click\":_vm.node_click,\"check\":_vm.check,\"node-drag-start\":_vm.handleDragStart,\"node-drag-enter\":_vm.handleDragEnter,\"node-drag-leave\":_vm.handleDragLeave,\"node-drag-over\":_vm.handleDragOver,\"node-drag-end\":_vm.handleDragEnd,\"node-drop\":_vm.handleDrop,\"check-change\":_vm.handleCheckChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <el-tree\r\n      lazy\r\n      :load=\"loadNode\"\r\n      :props=\"props\"\r\n      node-key=\"nodeId\"\r\n      ref=\"tree\"\r\n      @node-click=\"node_click\"\r\n      :show-checkbox=\"isCheckbox\"\r\n      @check=\"check\"\r\n      @node-drag-start=\"handleDragStart\"\r\n      @node-drag-enter=\"handleDragEnter\"\r\n      @node-drag-leave=\"handleDragLeave\"\r\n      @node-drag-over=\"handleDragOver\"\r\n      @node-drag-end=\"handleDragEnd\"\r\n      @node-drop=\"handleDrop\"\r\n      @check-change=\"handleCheckChange\"\r\n      :allow-drop=\"allowDrop\"\r\n      :allow-drag=\"allowDrag\"\r\n    >\r\n    </el-tree>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { tree_after, tree } from \"@/api/tree\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      props: {\r\n        label: \"nodeName\",\r\n        children: \"zones\",\r\n        isLeaf: \"isLeaf\",\r\n        orgid: \"orgid\",\r\n      },\r\n    };\r\n  },\r\n  props: {\r\n    is_dele: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    isCheckbox: {\r\n      default: false,\r\n      type: Boolean,\r\n    },\r\n    data: {\r\n      default: [],\r\n      type: Array,\r\n    },\r\n  },\r\n  methods: {\r\n    //节点被点击\r\n    node_click(e) {\r\n      let id = \"\";\r\n      let str = \"\";\r\n      if (e.empid) {\r\n        id = e.empid;\r\n        str = \"empid\";\r\n      } else {\r\n        id = e.orgid;\r\n        str = \"orgid\";\r\n      }\r\n      this.$emit(\"click_node\", id, str);\r\n    },\r\n    //懒加载\r\n    loadNode(node, resolve) {\r\n      if (node.level === 0) {\r\n        tree_after().then((res) => {\r\n          res.treeNodes[0].disabled = true;\r\n          return resolve(res.treeNodes);\r\n        });\r\n      } else {\r\n        setTimeout(() => {\r\n          let data = { nodeType: \"OrgOrganization\", nodeId: node.data.nodeId };\r\n          tree_after(data).then((res) => {\r\n            res.treeNodes.forEach((item) => {\r\n              if (item.isLeaf == false) {\r\n                item.disabled = true;\r\n              }\r\n            });\r\n\r\n            if (res.treeNodes.length >= 1) {\r\n              resolve(res.treeNodes);\r\n            } else {\r\n              return resolve([]);\r\n            }\r\n          });\r\n        }, 200);\r\n      }\r\n    },\r\n    //只能选中一个部门\r\n    handleCheckChange(data1, checked) {},\r\n    //复选框被选中触发\r\n    check(e, e1) {\r\n      let data = this.$refs.tree.getCheckedNodes();\r\n      if (data.length > 1) {\r\n        this.$message.error(\"只能选择一个部门\");\r\n        this.$refs.tree.setCheckedKeys([]);\r\n      }\r\n      if (e1.checkedKeys.length == 1) {\r\n        this.$emit(\"ok\", e.orgid, e.nodeName, e.empid);\r\n      }\r\n    },\r\n\r\n    handleDragStart(node, ev) {\r\n      console.log(\"drag start\", node);\r\n    },\r\n    handleDragEnter(draggingNode, dropNode, ev) {\r\n      console.log(\"tree drag enter: \", dropNode.label);\r\n    },\r\n    handleDragLeave(draggingNode, dropNode, ev) {\r\n      console.log(\"tree drag leave: \", dropNode.label);\r\n    },\r\n    handleDragOver(draggingNode, dropNode, ev) {\r\n      console.log(\"tree drag over: \", dropNode.label);\r\n    },\r\n    handleDragEnd(draggingNode, dropNode, dropType, ev) {\r\n      console.log(\"tree drag end: \", dropNode && dropNode.label, dropType);\r\n    },\r\n    handleDrop(draggingNode, dropNode, dropType, ev) {\r\n      console.log(\"tree drop: \", dropNode.label, dropType);\r\n    },\r\n    allowDrop(draggingNode, dropNode, type) {\r\n      if (dropNode.data.label === \"二级 3-1\") {\r\n        return type !== \"inner\";\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    allowDrag(draggingNode) {\r\n      return draggingNode.data.label.indexOf(\"三级 3-2-2\") === -1;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.wrap {\r\n  min-height: 64vh;\r\n  max-height: 65vh;\r\n  overflow: scroll;\r\n  width: 19vw;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index_yellow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index_yellow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index_yellow.vue?vue&type=template&id=3bef7a1a&scoped=true&\"\nimport script from \"./index_yellow.vue?vue&type=script&lang=js&\"\nexport * from \"./index_yellow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index_yellow.vue?vue&type=style&index=0&id=3bef7a1a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bef7a1a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index_yellow.vue?vue&type=style&index=0&id=3bef7a1a&scoped=true&lang=css&\"","import request from '@/utils/request'\r\n\r\n  //工作数根节点\r\nexport function tree() {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.auth.partyauth.ManageableRes.getManageableOrg.biz.ext',\r\n    method: 'post',\r\n  })\r\n}\r\n //工作数以后次查询\r\n export function tree_after(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.queryTreeChildNodes.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n//所有应用\r\nexport function criteria(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.framework.SystemManager.querySystemByCriteria.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//只查单位的树\r\nexport function tree_place(data) {\r\n  return request({\r\n    url: 'org.gocom.components.coframe.org.organization.queryOrgTree.biz.ext',\r\n    method: 'post',\r\n    data\r\n  })\r\n}"],"sourceRoot":""}