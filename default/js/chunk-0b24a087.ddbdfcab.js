(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b24a087"],{"22e6":function(e,s,r){},"714d":function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"wrap"},[r("el-card",{staticClass:"box-card1"},[r("div",{staticClass:"flex"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"旧密码",prop:"old_pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.old_pass,callback:function(s){e.$set(e.ruleForm,"old_pass",s)},expression:"ruleForm.old_pass"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(s){e.$set(e.ruleForm,"pass",s)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(s){e.$set(e.ruleForm,"checkPass",s)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1),r("el-card",{staticClass:"box-card"},[r("div",{staticStyle:{"font-weight":"bold"}},[e._v("提示信息")]),r("div",{staticClass:"text"},[r("i",{staticClass:"el-icon-message-solid"}),e._v("\n          输入密码之前需要输入正确的旧密码\n        ")]),r("div",{staticClass:"text"},[r("i",{staticClass:"el-icon-message-solid"}),e._v("\n          新密码必须满足系统设定的密码策略\n        ")]),r("div",{staticClass:"text"},[r("i",{staticClass:"el-icon-message-solid"}),e._v(" 新密码必须设置为6位以上\n        ")])])],1)])],1)},a=[],o=(r("a481"),r("c5f6"),r("7cdf"),r("b775"));function l(e){return Object(o["a"])({url:"org.gocom.components.coframe.rights.UserManager.changePassword.biz.ext",method:"post",data:e})}var i={data:function(){var e=this,s=function(e,s,r){if(!s)return r(new Error("年龄不能为空"));setTimeout((function(){Number.isInteger(s)?s<18?r(new Error("必须年满18岁")):r():r(new Error("请输入数字值"))}),1e3)},r=function(s,r,t){""===r?t(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),t())},t=function(s,r,t){""===r?t(new Error("请再次输入密码")):r!==e.ruleForm.pass?t(new Error("两次输入密码不一致!")):t()};return{ruleForm:{pass:"",checkPass:"",old_pass:""},rules:{pass:[{min:6,max:20,message:"长度在 6 到 20 个字符",validator:r,trigger:"blur"}],old_pass:[{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}],age:[{validator:s,trigger:"blur"}]}}},created:function(){},methods:{submitForm:function(e){var s=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={user:{userId:localStorage.getItem("token").replace(/^\"|\"$/g,""),password:s.ruleForm.checkPass},password:s.ruleForm.old_pass};l(r).then((function(e){1==e.returnCode?s.$message.success("密码修改成功"):s.$message.warning("修改失败,请确认密码原密码是否正确")}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},n=i,c=(r("7b94"),r("2877")),u=Object(c["a"])(n,t,a,!1,null,"e2bd3134",null);s["default"]=u.exports},"7b94":function(e,s,r){"use strict";r("22e6")},"7cdf":function(e,s,r){var t=r("5ca1");t(t.S,"Number",{isInteger:r("9c12")})},"9c12":function(e,s,r){var t=r("d3f4"),a=Math.floor;e.exports=function(e){return!t(e)&&isFinite(e)&&a(e)===e}}}]);
//# sourceMappingURL=chunk-0b24a087.ddbdfcab.js.map